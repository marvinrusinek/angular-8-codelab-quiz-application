<ng-content></ng-content>

<form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
  <ol class="form-group">
    <mat-radio-group formControlName="answer" name="answer" (change)="radioChange($event.value)"
                     (click)="question.selectedOption = option">
      <div class="radio-options" *ngFor="let option of question.options">
                <mat-radio-button class="option" [value]="option.optionValue" [checked]="question.selectedOption == option"
                          [ngClass]="{'is-correct': isCorrect(option.optionValue),
                                      'is-incorrect': isIncorrect(option.optionValue)}">
          <li>{{ option.optionText }}</li>
          <mat-icon class="feedback-icon" *ngIf="isCorrect(option.optionValue)">done</mat-icon>
          <mat-icon class="feedback-icon" *ngIf="isIncorrect(option.optionValue)">clear</mat-icon>
        </mat-radio-button>

        <section class="messages">
          <div class="message correct-message" *ngIf="isCorrect(option.optionValue)">
            <mat-icon class="sentiment">sentiment_very_satisfied</mat-icon>
            <span>&nbsp;&nbsp;You&apos;re right! The correct answer is Option {{ question.answer }}.</span>
          </div>
          <div class="message wrong-message" *ngIf="isIncorrect(option.optionValue)">
            <mat-icon class="sentiment">sentiment_very_dissatisfied</mat-icon>
            <span>&nbsp;&nbsp;That&apos;s wrong. The correct answer is Option {{ question.answer }}.</span>
          </div>
        </section>
      </div>
    </mat-radio-group>
  </ol>
</form>
